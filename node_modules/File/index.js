function generatePathFilename(strFile, objFile, objFileSettings) {
	if (objFile !== undefined){
		reg = new RegExp(/%INPUT_FILE%/gi);
		if (strFile.match(reg)){
			strFile = strFile.replace(reg, objFile.input);
		}
		
		reg = new RegExp(/%OUTPUT_FILE%/gi);
		if (strFile.match(reg)){
			strFile = strFile.replace(reg, objFile.output);
		}
		
		reg = new RegExp(/%WORK_FILE%/gi);
		if (strFile.match(reg)){
			strFile = strFile.replace(reg, objFile.work);
		}
		
		reg = new RegExp(/%TMP_FILE%/gi);
		if (strFile.match(reg)){
			strFile = strFile.replace(reg, objFile.tmp + Crypto.createHash('md5').update(strFile).digest("hex"));
		}
	}
	
	if (objFileSettings !== undefined) {
		if (objFileSettings.suffix !== undefined) {
			reg = new RegExp(/%SUFFIX%/gi);
			strFile = strFile.replace(reg, objFileSettings.suffix);
		}
		if (objFileSettings.extension !== undefined) {
			reg = new RegExp(/%EXTENSION%/gi);
			strFile = strFile.replace(reg,
					objFileSettings.extension);
		}
	}
	
	return strFile;
}

function loadJson(strPathToJson) {
	var fs = require('fs');

	if (fs.existsSync(strPathToJson) == false) {
		throw new Error('File not exists ' + strPathToJson);
	}

	data = fs.readFileSync(strPathToJson, 'utf8');
	return JSON.parse(data);
}

module.exports = {
	generatePathFilename : generatePathFilename,
	loadJson : loadJson
};

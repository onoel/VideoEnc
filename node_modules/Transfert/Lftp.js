/**
 * New node file
 */

var objInputPath;
var objSettings = {};

function run(strInputPath) {
	strCli = 'lftp -u ' + objSettings.user + ',' + objSettings.pass;

	if (objSettings.port !== undefined) {
		strCli += ' -p ' + objSettings.port;
	}

	strCli += ' -e "mkdir ' + objSettings.path + ';cd ' + objSettings.path
			+ '; mput ' + strInputPath + '; exit;"';

	strCli += ' ' + objSettings.host;
	Common.log('Upload processing ' + strCli);
}

function setSettings(inputSettings) {
	objSettings = inputSettings;
}

module.exports = {
	run : run,
	setSettings : setSettings
};